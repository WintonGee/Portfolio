const fs = require("fs");
const path = require("path");

// Read the embeddings file
const embeddingsPath = path.join(
  __dirname,
  "..",
  "data",
  "chatbot-embeddings.json"
);
const embeddingsData = JSON.parse(fs.readFileSync(embeddingsPath, "utf-8"));

// Create the embedded file
const embeddedContent = `// This file is auto-generated by scripts/embed-embeddings.js
// Do not edit manually

export const EMBEDDINGS_DATA = ${JSON.stringify(embeddingsData, null, 2)};
`;

// Write to the lib directory
const outputPath = path.join(__dirname, "..", "lib", "embeddings.ts");
fs.writeFileSync(outputPath, embeddedContent);

console.log(
  `âœ… Embedded ${embeddingsData.length} embeddings into ${outputPath}`
);
